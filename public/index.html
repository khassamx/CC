<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat de Rangos</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="login-page">
        <h1>Bienvenido al Chat de Rangos</h1>
        <form id="login-form">
            <input type="text" id="usuario" placeholder="Usuario" required>
            <input type="password" id="password" placeholder="Contrase√±a" required>
            <button type="submit">Entrar al Chat</button>
            <p id="login-message" class="error-message"></p>
        </form>
    </div>

    <div id="chat-page" style="display: none;">
        
        <div class="chat-nav">
            <button id="chat-global-btn">Chat Global</button>
            <button id="chat-privado-btn">Chat Privado</button>
            <button id="perfil-btn">Perfil</button>
            <button id="subir-archivo-btn">Subir Archivo</button>
            
            <button id="descargas-btn" onclick="window.location.href='/descargas'">
                üéõÔ∏è Zona de Descargas
            </button>
            
            <button id="tema-btn">Tema Claro/Oscuro</button>
        </div>

        <div id="user-list-container">
            <h3>Usuarios Conectados (<span id="user-count">0</span>)</h3>
            <ul id="user-list">
                </ul>
        </div>

        <div id="message-area">
            <div id="messages">
                </div>
            
            <form id="message-form">
                <input type="text" id="message-input" placeholder="Escribe un mensaje o @usuario mensaje..." autocomplete="off" required>
                <button type="submit">Enviar</button>
            </form>
        </div>
    </div>
    
    <div id="profile-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>Mi Perfil</h2>
            <div id="profile-info">
                <p><strong>Usuario:</strong> <span id="p-usuario"></span></p>
                <p><strong>Rango Actual:</strong> <span id="p-rango"></span></p>
                <p><strong>Mensajes Enviados:</strong> <span id="p-mensajes"></span></p>
            </div>
            
            <hr>
            <h3>Actualizar Informaci√≥n</h3>
            <form id="profile-update-form">
                <input type="text" id="p-nombre" placeholder="Nuevo Nombre de Usuario">
                <input type="text" id="p-foto" placeholder="URL de nueva Foto de Perfil">
                <button type="submit">Guardar Cambios</button>
                <p id="profile-message" class="success-message"></p>
            </form>
        </div>
    </div>
    
    <div id="upload-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>Subir Archivo (Foto/Video)</h2>
            <form id="upload-form" enctype="multipart/form-data">
                <input type="file" name="media" id="media-file" accept="image/*,video/*" required>
                <button type="submit">Subir y Enviar</button>
                <p id="upload-status" class="info-message"></p>
            </form>
        </div>
    </div>


    <script src="/socket.io/socket.io.js"></script>
    <script src="chat.js"></script> 
</body>
</html>